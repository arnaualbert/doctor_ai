<!doctype html>
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <title>Doctor AI</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body class="p-3 m-0 border-0 bd-example">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <div class="collapse navbar-collapse" id="navbarScroll">
            <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll" style="--bs-scroll-height: 100px;">
              <li class="nav-item">
                <a class="btn btn-outline-success"  aria-current="page" href="/home">Home</a>
              </li>
            </ul>
          </div>
        </div>
      </nav><br>

    <div>
        <h3>
          Local alignment
        </h3>
    </div><br>
    <div class="container">
      <form method="post" action="/localalignment" enctype="multipart/form-data" onsubmit="return validarFormulario()">
        <div class="row row-cols-2">
          <div class="col">
            <div class="form-group">
              <label for="fasta1"> FASTA file 1</label>
              <input class="form-control" type="file" id="fastafile1" name="fasta1local" value="{{ request.form['fasta1local'] }}">
            </div>
          </div>
          <div class="col">
            <div class="form-group">
              <label for="fasta2"> FASTA file 2</label>
              <input class="form-control" type="file" id="fastafile2" name="fasta2local" value="{{ request.form['fasta2local'] }}">
            </div>
          </div>
            <div class="col">
              <label>Match number:</label>
              <div class="form-group">
              <input class="form-control" type="number" name="match" id="match" value="{{ request.form['match'] }}" >
            </div>
            </div>
            <div class="col">
              <label>Mismatch number:</label>
              <div class="form-group">
              <input class="form-control" type="number" name="mismatch" id="mismatch" value="{{ request.form['mismatch'] }}" >
            </div>
            </div>

            <div class="col">
              <label>Gap number:</label>
              <div class="form-group">
              <input class="form-control" type="number" name="gap" id="gap" value="{{ request.form['gap'] }}" >
            </div>
            </div>
        </div><br>
        <button class="btn btn-primary" type="submit">Enviar</button>
      </form>
      <span id="errorMessage">{{message}}</span>
    </div>

    <script>
      function validarFormulario() {
        var fastafile1 = document.getElementById("fastafile1").value;
        var fastafile2 = document.getElementById("fastafile2").value;
        var match = document.getElementById("match").value;
        var mismatch = document.getElementById("mismatch").value;
        var gap = document.getElementById("gap").value;

        if (fastafile1 === "" || fastafile2 === "" || match === "" || mismatch === "" || gap === "") {
          var errorMessage = document.getElementById("errorMessage");
          errorMessage.innerHTML = "Please fill all the fields";
          return false;
        }
        return true;
      }
    </script>
    
</body>